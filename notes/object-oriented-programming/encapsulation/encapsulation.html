<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="This note provides a brief review of the notion of encapsulation and data hiding in Object-Oriented Programming (OOP) paradigm via Python.">
<meta name="keywords" content="objectclassencapsulationdata_hidingobject_oriented_programmingpython,  object, class, encapsulation, data hiding, object_oriented_programming, python">
<title>Encapsulation | Data Science with Python</title>
<link rel="stylesheet" href="/python/css/prismOkaidia.css">
<script src="/python/js/prismOkaidia.js"></script>
<!--
<link rel="stylesheet" href="/python/css/syntax.css">
-->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/python/css/bootstrap.min.css">



<link rel="stylesheet" href="/python/css/customstyles.css">
<link rel="stylesheet" href="/python/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/python/css/theme-cdslab.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/python/js/jquery.navgoco.min.js"></script>
<!-- make sidebar non-accordion -->
<script src="/python/js/lockScrollbarPosition.js"></script>
<!-- make sidebar non-accordion -->
<script type="text/javascript">
    $(document).ready(function() {
        $('.sidenav').navgoco({
              accordion: false,
              caret: '<span class="caret"></span>',
              openClass: 'open',
              save: true,
              cookie: {
                  name: 'navgoco',
                  expires: false,
                  path: '/'
              },
              slide: {
                  duration: 400,
                  easing: 'swing'
              }
          });
    });
</script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<!--
-->
<script src="/python/js/toc.js"></script>
<script src="/python/js/customscripts.js"></script>
<link rel="shortcut icon" href="/python/images/favicon.ico">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="" href="/python/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });
            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });
        });
    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    
    </head>
    <body>
        <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div id="sticky" class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-book fa-lg navbar-brand" href="/python/index.html">&nbsp;<span class="projectTitle"> Data Science with Python</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">CDSLab<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                
                                <li><a href="https://www.cdslab.org/#about" target="_blank" rel="noopener">About</a></li>
                                
                                
                                
                                <li><a href="https://www.cdslab.org/people" target="_blank" rel="noopener">People</a></li>
                                
                                
                                
                                <li><a href="https://www.cdslab.org/research" target="_blank" rel="noopener">Research</a></li>
                                
                                
                            </ul>
                        </li>
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                
                                <li><a href="https://www.cdslab.org/matlab/" target="_blank" rel="noopener">MATLAB Programming</a></li>
                                
                                
                                
                                <li><a href="https://www.cdslab.org/python/" target="_blank" rel="noopener">Python Programming</a></li>
                                
                                
                            </ul>
                        </li>
                    
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">UTA<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                
                                
                                <li><a href="https://www.uta.edu/science/" target="_blank" rel="noopener">College of Science</a></li>
                                
                                
                                
                                <li><a href="https://www.uta.edu/science/data-science/" target="_blank" rel="noopener">Data Science</a></li>
                                
                                
                                
                                <li><a href="https://www.uta.edu/physics/" target="_blank" rel="noopener">Physics</a></li>
                                
                                
                            </ul>
                        </li>
                    
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="keyword search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/python/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: "/python/search.json",
                                searchResultTemplate: '<li><a href="https://www.cdslab.org/python{url}" title="Encapsulation">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

        <!-- Page Content -->
        <div class="container">
            <div id="main">
                <!-- Content Row -->
                <div class="row">
                    
                    
                        <!-- Sidebar Column -->
                        <div class="col-md-3" id="tg-sb-sidebar">
                            
<ul id="mysidebar" class="sidenav">
    <!--
    -->
    <li class="sidebarTitle">Table of Pages </li>
    
        
            
                <li>
                    <a title="Overview" href="#"><b>Overview</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Preface" href="/python/notes/overview/preface/preface.html">Preface</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Release note 1" href="/python/notes/overview/release-note-1/release-note-1.html">Release note 1</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Release note 2" href="/python/notes/overview/release-note-2/release-note-2.html">Release note 2</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Release note 3" href="/python/notes/overview/release-note-3/release-note-3.html">Release note 3</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Release note 4" href="/python/notes/overview/release-note-4/release-note-4.html">Release note 4</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Preliminary foundations" href="#"><b>Preliminary foundations</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Version control system" href="/python/notes/preliminary-foundations/version-control-system/version-control-system.html">Version control system</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Computer hardware" href="/python/notes/preliminary-foundations/computer-hardware/computer-hardware.html">Computer hardware</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Computer programming" href="/python/notes/preliminary-foundations/computer-programming/computer-programming.html">Computer programming</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Programming history" href="/python/notes/preliminary-foundations/programming-history/programming-history.html">Programming history</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Python for beginners" href="/python/notes/preliminary-foundations/python-for-beginners/python-for-beginners.html">Python for beginners</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Values, variables, and types" href="#"><b>Values, variables, and types</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="First program" href="/python/notes/values-variables-types/first-program/first-program.html">First program</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Values" href="/python/notes/values-variables-types/values/values.html">Values</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Variables" href="/python/notes/values-variables-types/variables/variables.html">Variables</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Control constructs" href="#"><b>Control constructs</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Branching" href="/python/notes/control-constructs/branching/branching.html">Branching</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Looping" href="/python/notes/control-constructs/looping/looping.html">Looping</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Program units" href="#"><b>Program units</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Functions" href="/python/notes/program-units/functions/functions.html">Functions</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Modules" href="/python/notes/program-units/modules/modules.html">Modules</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Data transfer (I/O)" href="#"><b>Data transfer (I/O)</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Data input methods" href="/python/notes/data-transfer/input/input.html">Data input methods</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Data output methods" href="/python/notes/data-transfer/output/output.html">Data output methods</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Errors and exceptions" href="#"><b>Errors and exceptions</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Exception handling" href="/python/notes/exceptions-errors/exception-handling/exception-handling.html">Exception handling</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Unit testing" href="/python/notes/exceptions-errors/unit-testing/unit-testing.html">Unit testing</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Object-oriented programming" href="#"><b>Object-oriented programming</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Instantiation" href="/python/notes/object-oriented-programming/instantiation/instantiation.html">Instantiation</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li class="active"><a title="Encapsulation" href="/python/notes/object-oriented-programming/encapsulation/encapsulation.html">Encapsulation</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Inheritance" href="/python/notes/object-oriented-programming/inheritance/inheritance.html">Inheritance</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Polymorphism" href="/python/notes/object-oriented-programming/polymorphism/polymorphism.html">Polymorphism</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Abstraction" href="/python/notes/object-oriented-programming/abstraction/abstraction.html">Abstraction</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Scientific Computing" href="#"><b>Scientific Computing</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Vectorization and array computing" href="/python/notes/scientific-computing/vectorization/vectorization.html">Vectorization and array computing</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Interoperation" href="/python/notes/scientific-computing/interoperation/interoperation.html">Interoperation</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Visualization Techniques" href="#"><b>Visualization Techniques</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Overview" href="/python/notes/visualization/overview/overview.html">Overview</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="2D plotting" href="/python/notes/visualization/2d/2d.html">2D plotting</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="3D plotting" href="/python/notes/visualization/3d/3d.html">3D plotting</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
            
                <li>
                    <a title="Probabilistic Modeling" href="#"><b>Probabilistic Modeling</b></a>
                    <ul>
                        
                                
                                    
                                        <li><a title="Random numbers" href="/python/notes/probabilistic-modeling/random-numbers/random-numbers.html">Random numbers</a></li>
                                    
                                    
                                
                        
                                
                                    
                                        <li><a title="Monte Carlo" href="/python/notes/probabilistic-modeling/monte-carlo/monte-carlo.html">Monte Carlo</a></li>
                                    
                                    
                                
                        
                    </ul>
                </li>
            
        
    
    <!-- if you aren't using the accordion, uncomment this block:
    -->
    <p class="external">
        <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
    </p>
</ul>
<!--
This highlights the active parent class in the navgoco sidebar. 
This is critical so that the parent expands when you're viewing a page.
This must appear below the sidebar code above.
Otherwise, if placed inside customscripts.js,
the script runs before the sidebar code runs and the class never gets inserted.
-->
<script>$("li.active").parents('li').toggleClass("active");</script>

                        </div>
                        
                    
                    <!-- Content Column -->
                    <div class="col-md-9" id="tg-sb-content">
                        <div class="post-header">
   <h1 class="post-title-main">Encapsulation</h1>
</div>

<div class="post-content">
    
        <div class="summary">This note provides a brief review of the notion of encapsulation and data hiding in Object-Oriented Programming (OOP) paradigm via Python.</div>
    
    
        <br>
        
<script>
    $( document ).ready(function() {
        // Handler for .ready() called.
        $('#toc').toc({ minimumHeaders: 0 
                      , listType: 'ol'
                      , showSpeed: 0
                      , headers: 'h2,h3,h4,h5,h6'
        });
        /* the following offset helps account for the space taken up by the floating toolbar. */
        $('#toc').on('click', 'a', function() {
            var target = $(this.getAttribute('href')), scroll_target = target.offset().top$(window).scrollTop(scroll_target - 10);
            return false
        })
    });
</script>

<div id="toc"></div>

    
    
    <h2 id="encapsulation-and-data-hiding">Encapsulation and data hiding</h2>

<p>Classes can be used for many purposes in scientific programming and computation. One of the most frequently encountered tasks is to represent mathematical functions that have a set of parameters in addition to one or more independent variables. These functions, together with all of their essential and auxiliary variables have to be frequently passed to other functions to perform some tasks. Implementing such problems using purely procedural programming tools that we have learned so far can lead to the development of an unsafe, unclean, and undesired codebase, which is not easy to work with either. To understand why and how this happens, consider the following scientific problem.</p>

<h2 id="a-common-programming-challenge-in-numerical-computing">A common programming challenge in numerical computing</h2>

<p>Consider a function that takes in some parameters as input, for example, the equation of motion of a stone thrown upward in the air. The physics equation describing this motion is $y(t) = v_0t-\frac{1}{2}gt^2$. This equation gives the position $y$ from the ground as a function of time. Therefore, in physics, $y$ is viewed as a function of $t$.</p>

<p>Mathematically speaking, however, $y$ also depends on two other parameters, $v_0$ and $g$, although it is unnatural to view $y$ as a function of these parameters. One can therefore write $f(t;v_0,g)$ to emphasize that $t$ is the independent variable, while $v_0$ and $g$ are the parameters of the projectile motion model that we have proposed in the above. Strictly speaking, $g$ is a fixed parameter (as long as the experiment is done on the surface of the earth), so only $v_0$ and $t$ can be arbitrarily chosen in the formula.</p>

<p>It would then be better to write $y(t;v_0)$. Here is an implementation of this function,</p>
<pre><code class="language-python">def getHeight(time,initVelocity):
    gravityConstant = 9.81
    return initVelocity * time - 0.5*gravityConstant*time**2
</code></pre>

<pre><code class="language-python">getHeight(1,10)
</code></pre>
<pre><code>5.095  
</code></pre>

<p>This function gives the height of the projectile as a function of time. Now suppose we want to differentiate height ($y(t)$) with respect to time ($t$) in order to obtain the velocity at the given moment in time. We could write the following generic code for differentiation to do so,</p>
<pre><code class="language-python">def getDiff(getFunc, x, deltaX = 1.e-5):
    return ( getFunc(x+deltaX) - getFunc(x) ) / deltaX
</code></pre>

<p>But, here is the catch with this problem of differentiation. The <code>getDiff()</code> function works with any function <code>getFunc()</code> that takes <strong>only</strong> one argument. In other words, if we want to input <code>getHeight()</code> to <code>getDiff()</code>, then we will have to redefine <code>getHeight()</code> so that it takes only one argument.  You may wonder why not change <code>getDiff()</code>. For this simple problem, this could be a solution. But, for larger problems, you are more likely to use the sophisticated routines and modules that have been already developed by the community. Many of these routines and libraries are not aware of the specific problem that you are dealing with. Therefore, they write generic library functions that take an input function with a specific interface, in this case, a differentiation function that takes an input differential function that only has one input parameter. This situation is frequently encountered in the case with high-performance integration routines.</p>

<p>One, perhaps bad, solution to the above problem is to use <strong>global variables</strong>. To do so, we can define a <strong>wrapper</strong> function that wraps around <code>getHeight()</code> and hides the extra input parameter <code>initVelocity</code> from the view of <code>getDiff()</code>,</p>
<pre><code class="language-python"># wrapper function for getHeight
def getHeightWrapper(time):
    return getHeight(time,initVelocity)
</code></pre>

<p>This function will work only if <code>initVelocity</code> is a global variable, initialized before any attempts to call the function <code>getHeightWrapper()</code>. Here is an example call where <code>getDiff()</code> differentiates y,</p>
<pre><code class="language-python">initVelocity = 10 # note that initVelocity has be passed globally
getHeightWrapper(1)
</code></pre>
<pre><code>5.095  
</code></pre>

<p>Now, we can pass this wrapper function to <code>getDiff()</code> to take its derivative with respect to time,</p>
<pre><code class="language-python">initVelocity = 10 # note that initVelocity has be passed globally
getDiff(getHeightWrapper,1)
</code></pre>
<pre><code>0.18995094990259528  
</code></pre>

<p>The use of global variables is generally considered bad programming. Why global variables are problematic in the present case can be illustrated when there is a need to work with several versions of a function. Suppose we want to work with two versions of <code>getHeight(time,initVelocity)</code>, one with <code>initVelocity=10</code> and one with <code>initVelocity=5</code>. Every time we call <code>getHeight()</code>, we must remember which version of the function we work with, and set <code>initVelocity</code> accordingly prior to the call,</p>
<pre><code class="language-python">initVelocity = 10
print( getDiff(getHeightWrapper,1) )
initVelocity = 5
print( getDiff(getHeightWrapper,1) )
</code></pre>
<pre><code>0.18995094990259528  
-4.810049050085752  
</code></pre>

<p>Another problem is that the variable names such as <code>initVelocity</code> are now exposed in the code and could potentially overwrite (or get overwritten by) some other variables. In the best case scenario, such name clashes will cause a syntax or runtime error, but frequently, they go unnoticed in the code causing the program to yield wrong results which, depending on the context in which they occur, <a href="https://en.wikipedia.org/wiki/Mariner_1" target="_blank">could be devastating</a>.</p>

<p>Another major problem with global variables is that they could cause <strong>side effects</strong>. For example, if the value of <code>initVelocity</code> is mistakenly changed inside the function <code>getHeight()</code> it will remain unnoticed and <strong>the change affects other parts of the program in an unintentional way</strong>. This is one reason why a golden rule of programming tells us to <strong>limit the use of global variables as much as possible</strong>.</p>

<p><strong>So, is there a good remedy?</strong> The answer is yes: the class concept solves all the problems described above.</p>

<h3 id="class-representation-of-a-function">Class representation of a function</h3>

<p>A class contains a set of variables (data) and a set of functions, held together as one unit. The variables are visible in all the functions in the class. That is, we can view the variables as “global” in these functions. These characteristics also apply to modules, and modules can be used to obtain many of the same advantages as classes offer. However, classes are technically very different from modules. You can also make many copies of a class, while there can be only one copy of a module. When you master both modules and classes, you will clearly see the similarities and differences. Now we continue with a specific example of a class.</p>

<p>Consider the function $y(t;v_0) = v_0t - \frac{1}{2}gt^2$. We may say that $v_0$ and $g$, represented by the variables <code>initVelocity</code> and <code>gravityConstant</code>, constitute the data. A Python function, say <code>getHeight(time)</code>, is then needed to compute the value of $y(t;v_0)$ and this function must have access to the data <code>initVelocity</code> and <code>gravityConstant</code>, while <code>time</code> is an argument. A programmer experienced with classes will then suggest collecting the data <code>initVelocity</code> and <code>gravityConstant</code>, and the function <code>getHeight(time)</code>, together as a <strong>class</strong>.</p>

<p>A class usually has another function, called <strong>constructor</strong> for <strong>initializing the data</strong>. The constructor is always named <code>__init__</code>. Every <strong>class must have a name</strong>, often <strong>starting with a capital</strong> letter. For our problem here, we can choose <code>Projectile</code> as the name of the class since it represents a (vertical) projectile motion. The next step is to implement this class in Python. A complete class code <code>Projectile</code> for our problem here in Python could look like the following,</p>
<pre><code class="language-python">class Projectile():

    gravityConstant = 9.81

    def __init__(self, initVelocity):
        self.initVelocity = initVelocity

    def getHeight(self,time):
        return self.initVelocity * time - 0.5 * self.gravityConstant * time**2
</code></pre>

<p><strong>A class creates a new data type</strong>, here of name <code>Projectile</code>, so when we use the class to make objects, those objects are of type <code>Projectile()</code>. <strong>All the standard Python objects, such as lists, tuples, strings, floating-point numbers, integers, …, are built-in Python classes</strong>, and each time the user creates on these variable types, one instance of these classes is created by the Python interpreter. A user-defined object class (like Y) is usually called an <strong>instance</strong>. We need such an instance in order to use the data in the class and call the value function. The following statement constructs an instance of <code>Projectile()</code> bound to the variable named <code>projectile</code>,</p>
<pre><code class="language-python">projectile = Projectile(initVelocity=10)
</code></pre>

<p>Seemingly, we <em>call the class <code>Projectile()</code> as if it were a function</em>. Indeed, <code>Projectile(3)</code> is automatically translated by Python to a call to the constructor <code>__init__()</code> in class <code>Projectile</code>. The arguments in the call, here <code>initVelocity</code>, are always passed on as arguments to <code>__init__()</code> after the <code>self</code> argument. That is, <code>initVelocity</code> gets the value <code>10</code> and <code>self</code> is just dropped in the call. This may be confusing, but it is a rule that the <code>self</code> argument is never used in calls to functions in classes. With the instance <code>projectile</code>, we can compute the value of y(t=0.1;v_0=10) by the statement,</p>
<pre><code class="language-python">height = projectile.getHeight(0.1)
print(height)
</code></pre>
<pre><code>0.95095
</code></pre>

<p>Note that the <code>self</code> input argument is dropped in the call to <code>getHeight()</code>. To access functions and variables in a class, one must prefix the function and variable names by the name of the instance and a dot: the value function is reached as <code>projectile.getHeight</code>, and the variables are reached as <code>projectile.initVelocity</code> and <code>projectile.gravityConstant</code>. One could, for example, print the value of <code>initVelocity</code> in the instance <code>projectile</code> by writing,</p>
<pre><code class="language-python">print(projectile.initVelocity)
</code></pre>
<pre><code>10
</code></pre>

<p>We have already introduced the term <strong>instance</strong> for an object of a specific class. <strong>Functions</strong> in classes are commonly called <strong>methods</strong>, and <strong>variables (data)</strong> in classes are called <strong>data attributes</strong>. Methods are also known as <strong>method attributes</strong>. For example, in our sample class <code>Projectile</code> we have two methods or method attributes, <code>__init__()</code> and <code>getHeight()</code>, two data attributes, <code>initVelocity</code> and <code>gravityConstant</code>, and four attributes in total (<code>__init__</code>, <code>getHeight</code>, <code>initVelocity</code>, <code>gravityConstant</code>). Note that the names of attributes can be chosen freely, just as names of ordinary Python functions and variables. However, <strong>the constructor must have the name <code>__init__()</code>, otherwise it is not automatically called when new instances are created</strong>. You can do whatever you want in whatever method, but it is a common convention to <strong>use the constructor for initializing the variables in the class</strong>.</p>

<p>With this class, we can now call <code>getDiff()</code> to take the derivative of the height of the projectile motion we have defined, <em>without the need to create global variables</em>,</p>
<pre><code class="language-python">projectile = Projectile(initVelocity=10)
print( getDiff(projectile.getHeight,1) )
</code></pre>
<pre><code>0.18995094990259528
</code></pre>

<p>Now, it may seem a bit redundant to type <code>projectile.getHeight()</code> to get the height. Amazingly, Python provides a neat shortcut for such instances via the <code>__call__()</code> method to create <strong>callable</strong> objects.</p>

<h2 id="callable-objects">Callable objects</h2>

<p>If you recall, computing the value of the mathematical function represented by class <code>Projectile</code>, with <code>projectile</code> as the name of the instance, is performed by writing <code>projectile.getHeight()</code>. If we could write just <code>projectile()</code>, the <code>projectile</code> instance would look like an ordinary function. Such a syntax is indeed possible and offered by the special method named <code>__call__</code>,</p>
<pre><code class="language-python">class Projectile():

    gravityConstant = 9.81

    def __init__(self, initVelocity):
        self.initVelocity = initVelocity

    def __call__(self, time):
        return self.getHeight(time)

    def getHeight(self,time):
        return self.initVelocity * time - 0.5 * self.gravityConstant * time**2
</code></pre>

<p>then writing,</p>
<pre><code class="language-python">projectile = Projectile(initVelocity=10)
print(projectile(1))
print(projectile.getHeight(1))
</code></pre>
<pre><code>5.095  
5.095  
</code></pre>

<p>would yield identical results. With this <code>__call__</code> method, the <code>getHeight</code> method could be even considered as redundant and the class could be written more concisely as,</p>
<pre><code class="language-python">class Projectile():
    gravityConstant = 9.81
    def __init__(self, initVelocity): self.initVelocity = initVelocity
    def __call__(self, time): return self.initVelocity * time - 0.5 * self.gravityConstant * time**2
</code></pre>

<p>A good programming convention is to <strong>include a <code>__call__</code> method in all classes that represent a mathematical function</strong>. Objects that are instances of classes with <code>__call__</code> methods are said to be <strong>callable objects</strong>, just as plain functions are callable objects as well. The call syntax for callable objects is the same, regardless of whether the object is a function or a class instance.</p>

<p>You can always test if an instance is callable or not by <code>callable()</code>,</p>
<pre><code class="language-python">projectile = Projectile(initVelocity=10)
callable(projectile)
</code></pre>
<pre><code>True  
</code></pre>

    
    
        
    <div style="margin-top:3rem">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'shahmoradi'; // required: replace example with your forum shortname
    
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>


    
</div>
<hr class="shaded"/>
<footer>
    <div class="row">
        <div class="social-icons">

    
    <span class="social-icon">
        <a href="https://facebook.com/cdslab" target="_blank">
            <span class="fa-stack fa-lg">
                
                
<i class="fa fa-circle-thin fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-xs"></i>
            </span>
        </a>
    </span>
    

    
    <span class="social-icon">
        <a href="https://github.com/cdslaborg" target="_blank">
            <span class="fa-stack fa-lg">
                
<i class="fa fa-circle-thin fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-xs"></i>
            </span>
        </a>
    </span>
    

    

    
    <span class="social-icon">
        <a href="https://instagram.com/cdslaborg" target="_blank">
            <span class="fa-stack fa-lg">
                
<i class="fa fa-circle-thin fa-stack-2x"></i>
                <i class="fa fa-instagram fa-stack-xs"></i>
            </span>
        </a>
    </span>
    

    
    <span class="social-icon">
        <a href="https://medium.com/cdslab" target="_blank">
            <span class="fa-stack fa-lg">
                
<i class="fa fa-circle-thin fa-stack-2x"></i>
                <i class="fa fa-medium fa-stack-xs"></i>
                <!--
                -->
            </span>
        </a>
    </span>
    

    
    <span class="social-icon">
        <a href="https://twitter.com/cdslaborg" target="_blank">
            <span class="fa-stack fa-lg">
                
<i class="fa fa-circle-thin fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-xs"></i>
            </span>
        </a>
    </span>
    

</div>

        <div class="col-lg-12 footer">
            &copy;2024 <a href="https://www.cdslab.org" target="_blank">Computational Data Science Lab</a><br />
            Site last generated: July 30, 2024 <br />
            
                <span>Page last updated:</span>June 30, 2020<br/>
            
        <p>
            <a href="https://www.cdslab.org" target="_blank"><img class="footerlogo" src="/python/images/logo.png" }}" alt="cdslab.org" /></a>
            <!-- Start of statc -->
<div style="color: #ffffff; float: none; width: 100%;">
    <span style="font-size:0.8em">visitor count: 
        <script type="text/javascript">
            var sc_project=12046867; 
            var sc_invisible=0; 
            var sc_security="c4544640"; 
            var sc_text=3; 
            var scJsHost = "https://";
            document.write("<sc"+"ript type='text/javascript' src='" +
            scJsHost+
            "statcounter.com/counter/counter.js'></"+"script>");
        </script>
    </span>
</div>
<!-- End of statc -->
        </p>
        </div>
    </div>
    <!--Mathjax LaTeX engine-->
    
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
            jax: ["input/TeX"],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: false
            },
            TeX: {
                TagSide: "right",
                TagIndent: ".8em",
                MultLineWidth: "85%",
                equationNumbers: {
                autoNumber: "AMS",
                },
                unicode: {
                fonts: "STIXGeneral,'Arial Unicode MS'" 
                }
            },
            showProcessingMessages: false
        });
    </script>
    <style TYPE="text/css">
        code.has-jax {font: inherit; font-size: 100%; background: inherit; border: inherit;}
    </style>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] // removed 'code' entry
            }
        });
        MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
</footer>

                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.container -->
            </div>
            <!-- /#main -->
        </div>
        
    </body>
    
</html>
